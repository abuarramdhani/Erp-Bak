$(document).ready(function(){var e=$("input#checkall"),t=$("input.check");e.on("ifChecked ifUnchecked",function(e){"ifChecked"==e.type?t.iCheck("check"):t.iCheck("uncheck")}),$("#modalNoInduk").select2({placeholder:"noind",minimumInputLength:2,ajax:{type:"GET",url:baseurl+"PengirimanDokumen/ajax/noind",dataType:"json",data:e=>({params:e.term}),processResults:e=>{1==e.length?($("#modalNameWorker").val(e[0].nama),$("#modalSeksi").val(e[0].seksi)):($("#modalNameWorker").val(""),$("#modalSeksi").val(""));return{results:$.map(e,e=>({id:e.noind,text:e.noind}))}}}}),$("#modalNoInduk").on("change",function(){let e=$(this).val();null!=e&&$.ajax({type:"GET",url:baseurl+"PengirimanDokumen/ajax/noind",dataType:"json",data:{params:e},success:e=>{$("#modalNameWorker").val(e[0].nama);$("#modalSeksi").val(e[0].seksi)}})}),$("#modalLevelOne, #modalLevelTwo").select2({width:"100%"}),$("#modalInputInformation").select2({width:"100%",placeholder:"jenis keterangan"}),$(".table-input-dokumen thead td").each(function(){$(this).closest("table").find("tfoot tr").append("<th></th>")}),$(".table-input-dokumen tfoot th").each(function(){var e=$(this).text();$(this).html(`<input type="text" placeholder="search ${e}" style="width:100%;"></input>`)}),$(".table-input-dokumen").DataTable().columns().every(function(){let e=this;$("input",this.footer()).on("keyup change",function(){e.search(this.value,!0,!1).draw()})}),$("#modalDate").datepicker({todayHighlight:!0,format:"yyyy/mm/dd"}),$(".RekapAll").dataTable({dom:"Bfrtip",buttons:[{extend:"excelHtml5",exportOptions:{orthogonal:"export"},title:"Rekap Dokumen"},{extend:"pdfHtml5",exportOptions:{orthogonal:"export"},download:"open",pageSize:"A4",orientation:"portrait",title:"Rekap Dokumen"}]}),$(".dt-buttons button.buttons-excel").removeClass("btn-default").addClass("btn-success"),$(".dt-buttons button.buttons-excel span").html('<i class="fa fa-file-excel-o"></i> Excel'),$(".dt-buttons button.buttons-pdf").removeClass("btn-default").addClass("btn-danger"),$(".dt-buttons button.buttons-pdf span").html('<i class="fa fa-file-pdf-o"></i> PDF'),$("#periode").daterangepicker({locale:{format:"YYYY/MM/DD"}})});const deleteMaster=e=>{swal.fire({title:"Apakah anda yakin",text:"Menghapus Data ini ?",type:"warning",showCancelButton:!0}).then(t=>{if(!t.value)return;$.ajax({method:"POST",data:{id:e},url:baseurl+"PengirimanDokumen/ajax/deleteMaster",success:e=>{"ok"==e?(swal.fire("Data telah dihapus","","success"),loadTable()):swal.fire({type:"error",title:"Oops...",text:"Data tidak boleh dihapus!",footer:`<small>terdapat data input yang telah menggunakan master ini</small>`})}})})},showSuccessAlert=()=>{swal.fire("Sukses Menambahkan data","","success")},showSweetAlert=e=>{swal.fire(e)};